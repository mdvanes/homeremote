{"version":3,"file":"homeRemote.js","sources":["../_babel/classes/BroadcastButton.js","../_babel/classes/RadioToggleButton.js","../_babel/classes/RadioInfoButton.js","../_babel/classes/RekelboxButtonGroup.js","../_babel/core.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","BroadcastButton","$elem","_this","this","active","allClasses","$","get","done","data","setActive","setInActive","setError","click","value","_this2","removeClass","addClass","handleStopResponse","attr","alert","RadioToggleButton","toggleRadio","console","log","RadioToggleButtonTempStop","RadioInfoButton","oldVal","val","RekelboxButtonGroup","$manual","self","clickManual","clickedElem","state","removeAttr","debug","cssClass","is","text","toggleLight","ClearButton","clearLog","ready","jQuery"],"mappings":"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","sourcesContent":["/**\r\n * Created by m.van.es on 10-7-2015.\r\n */\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar BroadcastButton = (function () {\n    function BroadcastButton($elem) {\n        var _this = this;\n\n        _classCallCheck(this, BroadcastButton);\n\n        this.$elem = $elem;\n        this.active = false;\n        this.allClasses = 'hr-error hr-waiting hr-active';\n        //console.log('BroadcastButton', this.$elem);\n\n        $.get('/broadcast/status').done(function (data) {\n            if (data === 'running') {\n                _this.setActive();\n            } else if (data === 'waiting') {\n                _this.setInActive();\n            } else {\n                _this.setError();\n            }\n        });\n\n        this.$elem.click(function () {\n            return _this.click();\n        });\n    }\n\n    _createClass(BroadcastButton, [{\n        key: 'click',\n        value: function click() {\n            var _this2 = this;\n\n            //this.$elem.attr('class',''); // clear all classes\n            //this.$elem.addClass('waiting');\n            this.$elem.removeClass(this.allClasses).addClass('waiting');\n            // TODO or .error?\n            if (this.active) {\n                $.get('/broadcast/stop').done(function (data) {\n                    return _this2.handleStopResponse(data);\n                });\n            } else {\n                $.get('/broadcast/start' /*,\r\n                                         {\r\n                                         }*/).done(function (data) {\n                    // TODO\n                    if (data === 'ok') {\n                        _this2.setActive();\n                    } else {\n                        _this2.$elem.attr('class', ''); // clear all classes\n                        _this2.$elem.addClass('error');\n                        alert('an error has occurred');\n                    }\n                });\n            }\n        }\n    }, {\n        key: 'setActive',\n        value: function setActive() {\n            //this.$elem.attr('class',''); // clear all classes\n            //this.$elem.addClass('active');\n            this.$elem.removeClass(this.allClasses).addClass('hr-active');\n            this.active = true;\n        }\n    }, {\n        key: 'setInActive',\n        value: function setInActive() {\n            this.$elem.removeClass(this.allClasses);\n            this.active = false;\n        }\n    }, {\n        key: 'setError',\n        value: function setError() {\n            this.$elem.removeClass(this.allClasses).addClass('hr-error');\n            alert('an error has occurred');\n        }\n    }, {\n        key: 'handleStopResponse',\n        value: function handleStopResponse(data) {\n            if (data === 'ok') {\n                //this.$elem.attr('class',''); // clear all classes\n                //this.active = false;\n                this.setInActive();\n            } else {\n                this.setError();\n            }\n        }\n    }]);\n\n    return BroadcastButton;\n})();\n","/**\r\n * Created by m.van.es on 8-7-2015.\r\n */\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar RadioToggleButton = (function () {\n    function RadioToggleButton($elem) {\n        var _this = this;\n\n        _classCallCheck(this, RadioToggleButton);\n\n        this.$elem = $elem;\n        this.$elem.click(function () {\n            return _this.toggleRadio();\n        });\n    }\n\n    _createClass(RadioToggleButton, [{\n        key: 'toggleRadio',\n        value: function toggleRadio() {\n            $.get('/radio/play').done(function (data) {\n                if (data !== 'error') {\n                    console.log(data);\n                } else {\n                    alert('an error has occurred');\n                }\n            });\n        }\n    }]);\n\n    return RadioToggleButton;\n})();\n\nvar RadioToggleButtonTempStop = (function () {\n    function RadioToggleButtonTempStop($elem) {\n        var _this2 = this;\n\n        _classCallCheck(this, RadioToggleButtonTempStop);\n\n        this.$elem = $elem;\n        this.$elem.click(function () {\n            return _this2.toggleRadio();\n        });\n    }\n\n    _createClass(RadioToggleButtonTempStop, [{\n        key: 'toggleRadio',\n        value: function toggleRadio() {\n            $.get('/radio/stop').done(function (data) {\n                if (data !== 'error') {\n                    console.log(data);\n                } else {\n                    alert('an error has occurred');\n                }\n            });\n        }\n    }]);\n\n    return RadioToggleButtonTempStop;\n})();\n","/**\r\n * Created by m.van.es on 10-7-2015.\r\n */\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar RadioInfoButton = (function () {\n    function RadioInfoButton($elem) {\n        var _this = this;\n\n        _classCallCheck(this, RadioInfoButton);\n\n        this.$elem = $elem;\n        this.$elem.click(function () {\n            return _this.toggleRadio();\n        });\n    }\n\n    _createClass(RadioInfoButton, [{\n        key: 'toggleRadio',\n        value: function toggleRadio() {\n            $.get('/radio/info').done(function (data) {\n                if (data !== 'error') {\n                    var oldVal = $('#log').val();\n                    $('#log').val(data + oldVal);\n                } else {\n                    alert('an error has occurred');\n                }\n            });\n        }\n    }]);\n\n    return RadioInfoButton;\n})();\n","'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar RekelboxButtonGroup = (function () {\n    function RekelboxButtonGroup($elem) {\n        _classCallCheck(this, RekelboxButtonGroup);\n\n        this.$elem = $elem;\n\n        this.$manual = $('#rekelboxManual');\n\n        //this.$elem.find('.btn').click(() => this.click());\n\n        var self = this;\n        $('.btn', this.$elem).click(function () {\n            self.click(this);\n        });\n\n        $('.btn', this.$manual).click(function () {\n            self.clickManual(this);\n        });\n    }\n\n    _createClass(RekelboxButtonGroup, [{\n        key: 'click',\n        value: function click(clickedElem) {\n            //console.log('clicked', clickedElem);\n            $('.btn', this.$elem).removeClass('btn-success');\n            $(clickedElem).addClass('btn-success');\n\n            var state = $(clickedElem).data('state');\n\n            // Toggle manual button group\n            if (state === 'manual') {\n                $('.btn', this.$manual).removeAttr('disabled');\n            } else {\n                $('.btn', this.$manual).attr('disabled', 'disabled').removeClass('btn-success');\n            }\n\n            // Send request\n            if (state === 'broek') {\n                console.debug('send broek');\n            } else if (state === 'pi') {\n                console.debug('send pi');\n            } else if (state === 'debug') {\n                console.debug('send debug'); // pulsing signal\n            }\n        }\n    }, {\n        key: 'toggleLight',\n        value: function toggleLight($elem, cssClass) {\n            if ($elem.is('.' + cssClass)) {\n                $elem.removeClass(cssClass);\n            } else {\n                $elem.addClass(cssClass);\n                console.debug('send manual update');\n            }\n        }\n    }, {\n        key: 'clickManual',\n        value: function clickManual(clickedElem) {\n            if ($(clickedElem).text() === '1') {\n                this.toggleLight($(clickedElem), 'btn-success');\n            } else if ($(clickedElem).text() === '2' || $(clickedElem).text() === '3') {\n                this.toggleLight($(clickedElem), 'btn-warning');\n            } else {\n                this.toggleLight($(clickedElem), 'btn-danger');\n            }\n        }\n    }]);\n\n    return RekelboxButtonGroup;\n})();\n","'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n(function ($) {\n    'use strict';\n\n    var ClearButton = (function () {\n        function ClearButton($elem) {\n            var _this = this;\n\n            _classCallCheck(this, ClearButton);\n\n            this.$elem = $elem;\n            this.$elem.click(function () {\n                return _this.clearLog();\n            });\n        }\n\n        _createClass(ClearButton, [{\n            key: 'clearLog',\n            value: function clearLog() {\n                $('#log').val('');\n            }\n        }]);\n\n        return ClearButton;\n    })();\n\n    // TODO rebuild in React?\n    $('document').ready(function () {\n        new BroadcastButton($('#broadcast'));\n        new RadioToggleButton($('#play'));\n        new RadioToggleButtonTempStop($('#stop'));\n        new RadioInfoButton($('#info'));\n        new ClearButton($('#clear'));\n        new RekelboxButtonGroup($('#rekelboxButtonGroup'));\n    });\n})(jQuery);\n"]}