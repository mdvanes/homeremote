{"version":3,"file":"homeRemote.js","sources":["../_babel/classes/BroadcastButton.js","../_babel/classes/RadioToggleButton.js","../_babel/classes/RadioInfoButton.js","../_babel/core.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","BroadcastButton","$elem","_this","this","active","allClasses","$","get","done","data","setActive","setInActive","setError","click","value","_this2","removeClass","addClass","handleStopResponse","attr","alert","RadioToggleButton","toggleRadio","console","log","RadioToggleButtonTempStop","RadioInfoButton","oldVal","val","ClearButton","clearLog","ready","jQuery"],"mappings":"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","sourcesContent":["/**\r\n * Created by m.van.es on 10-7-2015.\r\n */\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar BroadcastButton = (function () {\n    function BroadcastButton($elem) {\n        var _this = this;\n\n        _classCallCheck(this, BroadcastButton);\n\n        this.$elem = $elem;\n        this.active = false;\n        this.allClasses = 'hr-error hr-waiting hr-active';\n        //console.log('BroadcastButton', this.$elem);\n\n        $.get('/broadcast/status').done(function (data) {\n            if (data === 'running') {\n                _this.setActive();\n            } else if (data === 'waiting') {\n                _this.setInActive();\n            } else {\n                _this.setError();\n            }\n        });\n\n        this.$elem.click(function () {\n            return _this.click();\n        });\n    }\n\n    _createClass(BroadcastButton, [{\n        key: 'click',\n        value: function click() {\n            var _this2 = this;\n\n            //this.$elem.attr('class',''); // clear all classes\n            //this.$elem.addClass('waiting');\n            this.$elem.removeClass(this.allClasses).addClass('waiting');\n            // TODO or .error?\n            if (this.active) {\n                $.get('/broadcast/stop').done(function (data) {\n                    return _this2.handleStopResponse(data);\n                });\n            } else {\n                $.get('/broadcast/start' /*,\r\n                                         {\r\n                                         }*/).done(function (data) {\n                    // TODO\n                    if (data === 'ok') {\n                        _this2.setActive();\n                    } else {\n                        _this2.$elem.attr('class', ''); // clear all classes\n                        _this2.$elem.addClass('error');\n                        alert('an error has occurred');\n                    }\n                });\n            }\n        }\n    }, {\n        key: 'setActive',\n        value: function setActive() {\n            //this.$elem.attr('class',''); // clear all classes\n            //this.$elem.addClass('active');\n            this.$elem.removeClass(this.allClasses).addClass('hr-active');\n            this.active = true;\n        }\n    }, {\n        key: 'setInActive',\n        value: function setInActive() {\n            this.$elem.removeClass(this.allClasses);\n            this.active = false;\n        }\n    }, {\n        key: 'setError',\n        value: function setError() {\n            this.$elem.removeClass(this.allClasses).addClass('hr-error');\n            alert('an error has occurred');\n        }\n    }, {\n        key: 'handleStopResponse',\n        value: function handleStopResponse(data) {\n            if (data === 'ok') {\n                //this.$elem.attr('class',''); // clear all classes\n                //this.active = false;\n                this.setInActive();\n            } else {\n                this.setError();\n            }\n        }\n    }]);\n\n    return BroadcastButton;\n})();\n","/**\r\n * Created by m.van.es on 8-7-2015.\r\n */\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar RadioToggleButton = (function () {\n    function RadioToggleButton($elem) {\n        var _this = this;\n\n        _classCallCheck(this, RadioToggleButton);\n\n        this.$elem = $elem;\n        this.$elem.click(function () {\n            return _this.toggleRadio();\n        });\n    }\n\n    _createClass(RadioToggleButton, [{\n        key: 'toggleRadio',\n        value: function toggleRadio() {\n            $.get('/radio/play').done(function (data) {\n                if (data !== 'error') {\n                    console.log(data);\n                } else {\n                    alert('an error has occurred');\n                }\n            });\n        }\n    }]);\n\n    return RadioToggleButton;\n})();\n\nvar RadioToggleButtonTempStop = (function () {\n    function RadioToggleButtonTempStop($elem) {\n        var _this2 = this;\n\n        _classCallCheck(this, RadioToggleButtonTempStop);\n\n        this.$elem = $elem;\n        this.$elem.click(function () {\n            return _this2.toggleRadio();\n        });\n    }\n\n    _createClass(RadioToggleButtonTempStop, [{\n        key: 'toggleRadio',\n        value: function toggleRadio() {\n            $.get('/radio/stop').done(function (data) {\n                if (data !== 'error') {\n                    console.log(data);\n                } else {\n                    alert('an error has occurred');\n                }\n            });\n        }\n    }]);\n\n    return RadioToggleButtonTempStop;\n})();\n","/**\r\n * Created by m.van.es on 10-7-2015.\r\n */\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar RadioInfoButton = (function () {\n    function RadioInfoButton($elem) {\n        var _this = this;\n\n        _classCallCheck(this, RadioInfoButton);\n\n        this.$elem = $elem;\n        this.$elem.click(function () {\n            return _this.toggleRadio();\n        });\n    }\n\n    _createClass(RadioInfoButton, [{\n        key: 'toggleRadio',\n        value: function toggleRadio() {\n            $.get('/radio/info').done(function (data) {\n                if (data !== 'error') {\n                    var oldVal = $('#log').val();\n                    $('#log').val(data + oldVal);\n                } else {\n                    alert('an error has occurred');\n                }\n            });\n        }\n    }]);\n\n    return RadioInfoButton;\n})();\n","'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n(function ($) {\n    'use strict';\n\n    var ClearButton = (function () {\n        function ClearButton($elem) {\n            var _this = this;\n\n            _classCallCheck(this, ClearButton);\n\n            this.$elem = $elem;\n            this.$elem.click(function () {\n                return _this.clearLog();\n            });\n        }\n\n        _createClass(ClearButton, [{\n            key: 'clearLog',\n            value: function clearLog() {\n                $('#log').val('');\n            }\n        }]);\n\n        return ClearButton;\n    })();\n\n    // TODO rebuild in React?\n    $('document').ready(function () {\n        new BroadcastButton($('#broadcast'));\n        new RadioToggleButton($('#play'));\n        new RadioToggleButtonTempStop($('#stop'));\n        new RadioInfoButton($('#info'));\n        new ClearButton($('#clear'));\n    });\n})(jQuery);\n"]}